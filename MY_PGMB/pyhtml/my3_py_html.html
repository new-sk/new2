
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>Python Source</title>
</head>
<body>

  <pre>
# HTML Escape 함수 정의
import html

def escape_html(text):
  return html.escape(text, quote=False)
    
    
# 파이썬 소스를 html 문서로 보여주기
import os
import sys
my_home, my_file = os.path.split(__file__)

print(my_home, my_file)

# file header
def gen_title(title):
  return f"""
&lt;!DOCTYPE html&gt;
&lt;html lang="ko"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;title&gt;{title}&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;

"""

# file tail
def gen_tail():
  return f"""
&lt;/body&gt;
&lt;/html&gt;
"""


#########################
### 소스 파일 리스트
my_pyname = ["my2_schedule_now","my1_pgmb_v2","my3_py_html"]
my_pydesc = ["일정관리","블로그만들기","소스보기"]

#########################
### 파이썬 소스 index file
pyhtml = gen_title("Python Source")

pyhtml += "&lt;p&gt;&lt;a href=\"" + "../pyhtml/" + my_pyname[0] + ".html\"&gt;" + my_pydesc[0] +"&lt;/a&gt;&lt;/p&gt;\n"
pyhtml += "&lt;p&gt;&lt;a href=\"" + "../pyhtml/" + my_pyname[1] + ".html\"&gt;" + my_pydesc[1] +"&lt;/a&gt;&lt;/p&gt;\n"
pyhtml += "&lt;p&gt;&lt;a href=\"" + "../pyhtml/" + my_pyname[2] + ".html\"&gt;" + my_pydesc[2] +"&lt;/a&gt;&lt;/p&gt;\n"

pyhtml += gen_tail()

# HTML 내용을 파일로 저장
with open(my_home + '/../pyhtml/my_pysource.html', "w", encoding="utf-8") as file:
  file.write(pyhtml)


#########################
### 진짜 소스 파일들
for file_name in my_pyname:   
  pyhtml = gen_title("Python Source")

</pre>
<span style="color:red;"># WOW.240623 
</span>
<pre>
</pre>
<span style="color:red;"># WOW : pre tag : html 문서에서 텍스트 문서를 표출할 때 사용, pre tag를 조절해서 WOW가 있는 줄만 강조해서 보이게 조정함
</span>
<pre>
</pre>
<span style="color:red;"># WOW : import html : html.escape를 사용하여 문제가 되는 부분들 제거하여 소스 다 보이게 함. 변수명으로 html을 사용하여 충돌나니깐 변수명 바꾸어 줄었음
</span>
<pre>
  # READ python source file
  with open(my_home + '/' + file_name + '.py', 'r', encoding='utf-8') as file:
    lines = file.readlines()

  # 각 줄을 확인하고 특정 문자가 포함된 줄을 강조합니다. "W O W"
  pyhtml += "  &lt;pre&gt;\n"
  for line in lines:
    if 'WOW' in line  and  "'WOW'" not in line:
        pyhtml += '&lt;/pre&gt;\n'
        pyhtml += f'&lt;span style="color:red;"&gt;{line}&lt;/span&gt;\n'
        pyhtml += '&lt;pre&gt;\n'
    else:
        pyhtml += escape_html(line)
  pyhtml += "  &lt;/pre&gt;\n"
</pre>
<span style="color:red;"># WOW.240623 : END
</span>
<pre>

  pyhtml += gen_tail()

  # HTML 내용을 파일로 저장
  with open(my_home + '/../pyhtml/' + file_name + '.html', "w", encoding="utf-8") as file:
    file.write(pyhtml)


  </pre>

</body>
</html>
