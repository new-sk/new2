# 5-2. 개념 데이터 모델링

<p> <a href="./study_0108.html">0108. 5-1. 데이터 모델링 이해</a> </p>
<p> <a href="./study_0109.html">0109. 5-2. 개념 데이터 모델링</a> </p>
<p> <a href="./study_0110.html">0110. 5-3. 논리 데이터 모델링</a> </p>
<p> <a href="./study_0111.html">0111. 5-4. 물리 데이터 모델링</a> </p>

<br>

### **가. 개념 데이터 모델링 이해** 

핵심 엔터티로 구성 : 다른 집합의 존재 유무와 상관없이 존재

모델링 기법은 논리적 모델링과 유사

개괄 데이터 모델 : 주제영역 관계도 

<br>


### **나. 주제 영역 정의** 

최상위 데이터 모델인 주제영역을 분류해 보아요

<br>

주제 영역 개념
- 데이터의 최상위 집합 (인사, 생산, 자재, 판매 등) 
- 데이터를 주제별로 분류하는 방법
- 내부적으로 밀접한 관계, 다른 주제영역과는 상호작용 최소화
- 하향식 방식 용이 / 검증 위해서 일부 샹향식

주제 영역 분류 원칙 및 기준
- 분류 원칙 : 데이터 중복 최소화(체계적 분류 필요), 확장성 보장(가까운 미래 추가될 일), 관련성 및 편의성 확보
- 분류 기준 : 
  - 데이터 관점 분류, 업무요건 추가에 대한 유연성 보장, 주제영역 간 균형 유지
- 주제 영역 명명 : 업무용어, 단수형 명사, 업무 활동명 배제하고 데이터그룹 의미하는 이름
- 주제 영역 정의 절차
  - 데이터 분류 지침 정의 - 주제영역 분류 및 정의 - 주제영역 도식화 
- 주제영역 분류 방법
  - 1차분류 : 주요 데이터 집합의 유형 정의
  - 2차분류 : Biz 활동에 필요한 데이터 분류
  - 3차분류 : 2차 영역의 세부 주제 영역 분류

주제 영역 활용
- 전체 데이터 구성의 청사진 제시

주제 영역 도출
- 명사형, 업무기능, 하향식, 상향식(그룹핑), 분석단계

주제 영역 정의 내용
- 레벨, 주제영역명, 설명, 대표엔터티

<br>


### **다. 후보 엔터티 선정** 

버리지 말고 잘 모아서 엔터티를 분류해 보아요

<br>

엔터티 후보 수집
- 기존 시스템 도큐먼트
- 현업 장표/보고서
- 현업 인터뷰
- 관련 전문 서적
- 데이터 흐름도
- 타 시스템 자료
- 현장 조사

엔터티 후보 식별
- 구체적인 집합으로 정의
- 관리대상인지 판별 (앞으로 관리할 것인지에 대한 전략적 판단 포함)
- 집합이 되는지 확인 (개체가 있는지, 속성이 있는지)

엔터티 선정시 유의 사항
- 엔터티 가능성 있다고 예상되면 일단 검토 대상에 올려라
- 동의어처럼 보이더라도 함부로 버리지 마라
- 개념이 모호한 대상은 일차로 그 개념을 상식화하여 이해하라
- 프로세스에 너무 연연해 하지 마라
- 예외 경우에 너무 집착하지 마라
- 단어 하나하나에 집중해서 판단하라

수집된 엔터티 분류
- 키 엔터티 : 부모를 가지지 않는 엔터티 (사원, 부서, 고객, 상품, 자재), 규칙과 부모의 차이 (부서없는 사원은 없다 : 규칙)
- 메인 엔터티 : 키 엔터티 제외하고 업무의 중심 (보험계약, 사고, 예금원장, ,,,)
- 액션 엔터티 : (상태이력, 차량수리내역, 상세주문내역)
- 부분집합과 자식은 다르다 (법인, 고객의 서브타입)
- 유사한 의미를 가지는 엔터티 모아서 비교

<br>


### **라. 핵심 엔터티 정의** 

그래서 핵심 엔터티가 뭔가?

<br>

엔터티
- 관리하고자 하는 것인가, 면적을 가지고 있는가, 동질성 지녔는가, 독립성 가졌는가, 순수개체 또는 행위의 집합인가

의미상 주어 정의
- 본질식별자, 인조식별자
- 1:M 관계에서 1인쪽인 본질식별자가 될 가능성이 높다. (반례 : 부서와 사원)
- 본질식별자란 만약 자신이 없다면 자신이 절대로 태어날 수 없을 때만 해당

코드성 키 엔터티 모델링
- 너무 많이 정의해 버리면 모델링의 효율적인 진행에 방해
- 꼭 필요한 것이 누락한다면 중요한 자식 엔터티가 나오지 않을 수도 있음
- 속성 및 관계 존재여부를 파악

집합 순수성
- 단위 사물을 정의한 개체 or 어떤 활동의 행위 (입금, 계약 등), 혼용되면 릴레이션십
- 사례. 납입자 : 고객(개체) + 납입(액션)이 혼용된 상태임
- 예외1. 릴레이션십 엔터티화 : M:N : 1:M으로 변환 : 릴레이션십 엔터티 (제휴:association, 교차:intersection)
- 예외2. 부분집합 : 기관 vs 금융기관, 금융기관(금융은 분류) vs 수납기관(수납은 행위) : 금융기관은 부분집합을 상세하게 표현하기 위해서 금융이라는 단어를 사용한 것임
- 예외3. 배타적관계 : 배송처(종류 다양 : 물류센터, 부서, 공사현장 등등), 다르지만 계속 종류가 늘어난다면 하나의 엔티로 만들는 것이 나을 수도 있음

집합 동질성 : 집합에 들어갈 개체들의 동일한 성질 (사람만 vs 사람과법인까지)

엔터티 명칭 : 교육과정 + 강사 --> 교육일정 보다는 개설강좌(일정외에도 장소라든지 다른 정보들 들어가 있음)

서브타입
- 교집합 불가, 합이 전체 집합, 
- 개별속성 또는 개별관계를 가지거나 가독성 증진 위해
- 트레이드오프 : 명확성과 복잡성

엔터티 통합과 분할
- 엔터티 독립성 : 이미 정의된 다른 엔터티에 포함되는 것은 아닌지 
- 엔터티 분할/통합
  - 상품과 고객처럼 완전 독립, 고객과 사원처럼 부분 포함, 사원과 임원처럼 완전 포함 관계
  - 1 포함, 2 분리, 3 별개로 구축
- 집합 동질성 확대를 통한 집합 통합 사례
  - 보험회사 대리점 : 사원처리 관리 (실적관리 단위 : 보험인)
  - 통신회사 대리점 : 부서처럼 관리 (실적관리 단위 : 조직)
- 유연성 향상을 위한 통합 : 집합의 확장은 유연성과 단순성 증대시키나 지나친 확장은 집합 의미 희석화시킴

<br>


### **마. 관계 정의** 

관계를 정의해 볼까요

<br>

관계란 : 엔터티와 엔터티 사이의 관계

관계 이해
- 관계도 집합이다
- 직접 관계를 관계라고 한다
- 두 엔터티 간에는 하나 이상의 관계가 존재할 수 있다 : 계약자 / 피보험자
- 외래키의 정의 : FK, 참조무결성
- 관계의 관점

관계 표현
- Degree/Cardinality : Many, only one
- Optionality : 주로 1쪽 필수, M쪽은 선택, 자식쪽의 정보가 없는 경우는 데이터 정합성의 문제 발생 가능
- 관계명 : 각자의 입장에서 관계명 작성, 다른 관계명과 유일성은 확보 안됨, 현재시제로 업무적 연관성 표시 (부서에 포함한다. 직원은 소속된다)

관계 정의 방법

관계 형태


